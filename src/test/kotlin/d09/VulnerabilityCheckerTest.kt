package d09

import d09.Reader
import d09.VulnerabilityChecker
import org.assertj.core.api.BDDAssertions.then
import org.junit.jupiter.api.Test

class VulnerabilityCheckerTest {

    @Test
    fun `test sample input part a`() {
        // given
        val lines = Reader().readInts()

        // when
        val checker = VulnerabilityChecker(lines, 5)
        val firstInvalidNumber = checker.extractIncorrectPreamble()

        // then
        then(firstInvalidNumber).isEqualTo(127)
    }

    @Test
    fun `test actual input part a`() {
        // given
        val lines = Reader().readInts("day-09-a")

        // when
        val checker = VulnerabilityChecker(lines, 25)
        val firstInvalidNumber = checker.extractIncorrectPreamble()

        // then
        then(firstInvalidNumber).isEqualTo(36845998)
    }
}